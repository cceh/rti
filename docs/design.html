

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Electrical Design &mdash; RTI 0.1.1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/graphviz.css" type="text/css" />
  <link rel="stylesheet" href="_static/my_theme.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Dome User Manual" href="user.html" />
    <link rel="prev" title="Dome Builder Manual" href="builder.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> RTI
          

          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction to RTI</a><ul>
<li class="toctree-l2"><a class="reference internal" href="intro.html#outline">Outline</a></li>
<li class="toctree-l2"><a class="reference internal" href="intro.html#the-math">The Math</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="builder.html">Dome Builder Manual</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Electrical Design</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="#choice-of-led">Choice of LED</a></li>
<li class="toctree-l3"><a class="reference internal" href="#led-driver">Led Driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="#constant-current-source">Constant Current Source</a></li>
<li class="toctree-l3"><a class="reference internal" href="#microcontroller">Microcontroller</a></li>
<li class="toctree-l3"><a class="reference internal" href="#connectors">Connectors</a></li>
<li class="toctree-l3"><a class="reference internal" href="#board-layout">Board Layout</a></li>
<li class="toctree-l3"><a class="reference internal" href="#case">Case</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#footnotes">Footnotes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="user.html">Dome User Manual</a><ul>
<li class="toctree-l2"><a class="reference internal" href="shooting.html">Shooting Manual</a><ul>
<li class="toctree-l3"><a class="reference internal" href="shooting.html#camera-settings">Camera Settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="shooting.html#dome-setup">Dome Setup</a></li>
<li class="toctree-l3"><a class="reference internal" href="shooting.html#shooting">Shooting</a></li>
<li class="toctree-l3"><a class="reference internal" href="shooting.html#various-notes">Various Notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="shooting.html#camera-manuals">Camera Manuals</a></li>
<li class="toctree-l3"><a class="reference internal" href="shooting.html#footnotes">Footnotes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="lens_selection.html">Lens Selection</a><ul>
<li class="toctree-l3"><a class="reference internal" href="lens_selection.html#buying-lenses">Buying Lenses</a></li>
<li class="toctree-l3"><a class="reference internal" href="lens_selection.html#object-sizes">Object Sizes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="raw_or_jpeg.html">RAW or JPEG?</a><ul>
<li class="toctree-l3"><a class="reference internal" href="raw_or_jpeg.html#raw">RAW</a></li>
<li class="toctree-l3"><a class="reference internal" href="raw_or_jpeg.html#jpeg">JPEG</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="vibrations.html">Vibration Reduction</a><ul>
<li class="toctree-l3"><a class="reference internal" href="vibrations.html#live-view">Live View</a></li>
<li class="toctree-l3"><a class="reference internal" href="vibrations.html#exposure-delay-mode">Exposure Delay Mode</a></li>
<li class="toctree-l3"><a class="reference internal" href="vibrations.html#mirrorless-cameras">Mirrorless Cameras</a></li>
<li class="toctree-l3"><a class="reference internal" href="vibrations.html#footnotes">Footnotes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="user_scripts.html">Scripts</a><ul>
<li class="toctree-l3"><a class="reference internal" href="user_scripts.html#scripts-image-filer-py">scripts/image-filer.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_scripts.html#scripts-image-converter-py">scripts/image-converter.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_scripts.html#scripts-lp-builder-py">scripts/lp-builder.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_scripts.html#bin-ptm-encoder">bin/ptm-encoder</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_scripts.html#bin-ptm-decoder">bin/ptm-decoder</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_scripts.html#bin-ptm-exploder">bin/ptm-exploder</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_scripts.html#sample-lp-file-format">sample.lp file format</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="developer.html">Software Developer Manual</a><ul>
<li class="toctree-l2"><a class="reference internal" href="firmware.html">Firmware</a></li>
<li class="toctree-l2"><a class="reference internal" href="programming.html">Programming the AVR-Microcontroller</a><ul>
<li class="toctree-l3"><a class="reference internal" href="programming.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l3"><a class="reference internal" href="programming.html#program-the-microcontroller">Program the Microcontroller</a></li>
<li class="toctree-l3"><a class="reference internal" href="programming.html#initialize-a-new-microcontroller">Initialize a New Microcontroller</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="ptmlib.html">ptmlib</a><ul>
<li class="toctree-l3"><a class="reference internal" href="ptmlib.html#ptmlib-h">ptmlib.h</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="glossary.html">Glossary</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">RTI</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
          <li><a href="builder.html">Dome Builder Manual</a> &raquo;</li>
        
      <li>Electrical Design</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/design.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="electrical-design">
<h1>Electrical Design<a class="headerlink" href="#electrical-design" title="Permalink to this headline">¶</a></h1>
<p>The main goals of this design were:</p>
<ul class="simple">
<li><p>to use bright and affordable LEDs,</p></li>
<li><p>to use only user-solderable off-the-shelf components,</p></li>
<li><p>the dome should look to the camera like an ordinary flash gun,</p></li>
<li><p>the dome should work with any camera using standard interfaces.</p></li>
</ul>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>While researching affordable RTI domes on the internet we found electrical
designs like this: <a class="footnote-reference brackets" href="#id3" id="id1">1</a> <a class="footnote-reference brackets" href="#id4" id="id2">2</a></p>
<div class="figure align-center" id="id5">
<div class="pic">


<!-- Creator: dpic version 2019.11.30 option -v for SVG 1.1 -->
<!-- width="698" height="151" -->
<svg
 xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
 xml:space="preserve"
 style="shape-rendering:geometricPrecision; text-rendering:geometricPrecision;
 image-rendering:optimizeQuality; fill-rule:evenodd; clip-rule:evenodd"
 width="697.2px" height="150px"
 viewBox="0 0 697.2 150"
 font-size="11pt" text-anchor="middle"
 stroke="black" stroke-miterlimit="10" stroke-width="1.066667" fill="none">
<g>
<rect fill="#fbfb77" stroke-width="2"
 stroke="#a80136"
 x="2" y="1" rx="24" ry="24" width="124.8" height="48" />
<text font-size="11pt" stroke-width="0.2pt" fill="black" x="64.4" y="22.506667">user must</text>
<text font-size="11pt" stroke-width="0.2pt" fill="black" x="64.4" y="37.173333">set timing</text>
<polygon stroke-width="0" stroke="#a80136"
 fill="#a80136"
 points="168.4,25 165.2,22.6
174.8,25 165.2,27.4" />
<line stroke-width="1.333333"
 stroke="#a80136"
 x1="126.8" y1="25" x2="172.051263" y2="25" />
<rect fill="#fefece" stroke-width="2"
 stroke="#a80136"
 x="174.8" y="1" width="124.8" height="48" />
<text font-size="11pt" stroke-width="0.2pt" fill="black" x="237.2" y="29.84">Controller</text>
<polygon stroke-width="0" stroke="#a80136"
 fill="#a80136"
 points="389.2,25 386,22.6
395.6,25 386,27.4" />
<line stroke-width="1.333333"
 stroke="#a80136"
 x1="299.6" y1="25" x2="392.851263" y2="25" />
<text font-size="11pt" stroke-width="0.2pt" fill="black" x="346.225631" y="22.333333">shutter</text>
<rect fill="#fefece" stroke-width="2"
 stroke="#000000"
 x="395.6" y="1" width="124.8" height="48" />
<text font-size="11pt" stroke-width="0.2pt" fill="black" x="458" y="29.84">Camera</text>
<polygon stroke-width="0" stroke="#a80136"
 fill="#a80136"
 points="526.8,25 530,27.4
520.4,25 530,22.6" />
<line stroke-width="1.333333"
 stroke="#a80136"
 x1="523.148737" y1="25" x2="568.4" y2="25" />
<rect fill="#fbfb77" stroke-width="2"
 stroke="#a80136"
 x="568.4" y="1" rx="24" ry="24" width="124.8" height="48" />
<text font-size="11pt" stroke-width="0.2pt" fill="black" x="630.8" y="22.506667">user must</text>
<text font-size="11pt" stroke-width="0.2pt" fill="black" x="630.8" y="37.173333">set exposure</text>
<polygon stroke-width="0" stroke="#a80136"
 fill="#a80136"
 points="237.2,90.6 239.6,87.4
237.2,97 234.8,87.4" />
<line stroke-width="1.333333"
 stroke="#a80136"
 x1="237.2" y1="49" x2="237.2" y2="94.251263" />
<text font-size="11pt" stroke-width="0.2pt" fill="black" text-anchor="end"
 x="234.533333" y="76.465631">step</text>
<rect fill="#fefece" stroke-width="2"
 stroke="#a80136"
 x="174.8" y="97" width="124.8" height="48" />
<text font-size="11pt" stroke-width="0.2pt" fill="black" x="237.2" y="125.84">LED Driver</text>
<polygon stroke-width="0" stroke="#a80136"
 fill="#a80136"
 points="389.2,121 386,118.6
395.6,121 386,123.4" />
<line stroke-width="1.333333"
 stroke="#a80136"
 x1="299.6" y1="121" x2="392.851263" y2="121" />
<rect fill="#fefece" stroke-width="2"
 stroke="#000000"
 x="395.6" y="97" width="124.8" height="48" />
<text font-size="11pt" stroke-width="0.2pt" fill="black" x="458" y="125.84">Dome</text>
</g></svg>
</div>
<p class="caption"><span class="caption-text">Typical design found on the internet</span><a class="headerlink" href="#id5" title="Permalink to this image">¶</a></p>
</div>
<p>The camera is in single-shot mode.  The controller tells the LED driver to turn
on the next LED and then presses and releases the camera shutter.  The camera
takes one picture.  After a programmable time lapse the controller tells the LED
driver to turn the LED off again.  After another programmable interval the cycle is
repeated, for as many times as there are LEDs in the dome.</p>
<p>This is sub-optimal because the controller does not know when the camera is done
with the current exposure nor when it is ready to take the next exposure.  This
depends on the exposure time, the size of the picture file, the speed of the
camera memory system, and many other things.  The optimal intervals can only be
found by experiment.  You must program generous intervals because if any
interval is too short the camera will miss exposures and you will get an
unusable set of pictures.</p>
<p>The CCeH driver module takes a different approach that does not have these
disadvantages.</p>
<div class="figure align-center" id="id6">
<div class="pic">


<!-- Creator: dpic version 2019.11.30 option -v for SVG 1.1 -->
<!-- width="525" height="151" -->
<svg
 xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
 xml:space="preserve"
 style="shape-rendering:geometricPrecision; text-rendering:geometricPrecision;
 image-rendering:optimizeQuality; fill-rule:evenodd; clip-rule:evenodd"
 width="524.4px" height="150px"
 viewBox="0 0 524.4 150"
 font-size="11pt" text-anchor="middle"
 stroke="black" stroke-miterlimit="10" stroke-width="1.066667" fill="none">
<g>
<rect fill="#fefece" stroke-width="2"
 stroke="#a80136"
 x="2" y="1" width="124.8" height="48" />
<text font-size="11pt" stroke-width="0.2pt" fill="black" x="64.4" y="29.84">Controller</text>
<polygon stroke-width="0" stroke="#a80136"
 fill="#a80136"
 points="216.4,25 213.2,22.6
222.8,25 213.2,27.4" />
<line stroke-width="1.333333"
 stroke="#a80136"
 x1="126.8" y1="25" x2="220.051263" y2="25" />
<text font-size="11pt" stroke-width="0.2pt" fill="black" x="173.425631" y="22.333333">shutter</text>
<rect fill="#fefece" stroke-width="2"
 stroke="#000000"
 x="222.8" y="1" width="124.8" height="48" />
<text font-size="11pt" stroke-width="0.2pt" fill="black" x="285.2" y="29.84">Camera</text>
<polygon stroke-width="0" stroke="#a80136"
 fill="#a80136"
 points="354,25 357.2,27.4
347.6,25 357.2,22.6" />
<line stroke-width="1.333333"
 stroke="#a80136"
 x1="350.348737" y1="25" x2="395.6" y2="25" />
<rect fill="#fbfb77" stroke-width="2"
 stroke="#a80136"
 x="395.6" y="1" rx="24" ry="24" width="124.8" height="48" />
<text font-size="11pt" stroke-width="0.2pt" fill="black" x="458" y="22.506667">user must</text>
<text font-size="11pt" stroke-width="0.2pt" fill="black" x="458" y="37.173333">set exposure</text>
<polygon stroke-width="0" stroke="#a80136"
 fill="#a80136"
 points="64.4,55.4 62,58.6
64.4,49 66.8,58.6" />
<line stroke-width="1.333333"
 stroke="#a80136"
 x1="64.4" y1="51.748737" x2="64.4" y2="97" />
<text font-size="11pt" stroke-width="0.2pt" fill="black" text-anchor="end"
 x="61.733333" y="79.214369">done</text>
<rect fill="#fefece" stroke-width="2"
 stroke="#a80136"
 x="2" y="97" width="124.8" height="48" />
<text font-size="11pt" stroke-width="0.2pt" fill="black" x="64.4" y="125.84">LED Driver</text>
<polygon stroke-width="0" stroke="#a80136"
 fill="#a80136"
 points="216.4,121 213.2,118.6
222.8,121 213.2,123.4" />
<line stroke-width="1.333333"
 stroke="#a80136"
 x1="126.8" y1="121" x2="220.051263" y2="121" />
<rect fill="#fefece" stroke-width="2"
 stroke="#000000"
 x="222.8" y="97" width="124.8" height="48" />
<text font-size="11pt" stroke-width="0.2pt" fill="black" x="285.2" y="125.84">Dome</text>
<polygon stroke-width="0" stroke="#a80136"
 fill="#a80136"
 points="95.6,90.6 98,87.4
95.6,97 93.2,87.4" />
<path stroke-width="1.333333"
 stroke="#a80136"
 d="M 254,49
 C 254,63.4 222.32,73 174.8,73 127.28,73 95.6,81.500505 95.6,94.251263" />
<text font-size="11pt" stroke-width="0.266667"
 fill="black"
 x="174.8" y="70.333333">flash</text>
</g></svg>
</div>
<p class="caption"><span class="caption-text">CCeH design</span><a class="headerlink" href="#id6" title="Permalink to this image">¶</a></p>
</div>
<p>In the CCeH design you don’t need to program any interval into the controller
because the camera itself tells the controller what to do.  The system will go
as fast as the camera allows and never miss an exposure.</p>
<p>The camera is in continuous-shot mode.  The controller presses the camera
shutter and keeps it pressed.  When the camera is about to take an exposure it
signals this on its external flash output.  The LED driver listens to this
signal and turns on the next LED.  When the camera is done with the exposure it
resets the flash output and the driver turns off the LED.  This flash cycle
repeats until the last LED is reached.  Then the LED driver will tell the
controller to release the shutter and the camera will stop.</p>
<p>This design conserves energy, because the LEDs are turned on only for the time
needed to take the exposure, and turned off during the time the camera processes
and stores the image.  You want this in battery-powered domes.</p>
</div>
<div class="section" id="choice-of-led">
<h2>Choice of LED<a class="headerlink" href="#choice-of-led" title="Permalink to this headline">¶</a></h2>
<p>Consider the following points before selecting an LED make.</p>
<p>Performance:</p>
<blockquote>
<div><p>Luminous LEDs allow fast work and great focal depth.  Look for LEDs specified
to 100 lm (lumen) or more.</p>
</div></blockquote>
<p>Light quality:</p>
<blockquote>
<div><p>Especially important if you want to take color pictures.  Look for a Color
Rendering Index (CRI) of 90 or more.</p>
</div></blockquote>
<p>Price:</p>
<blockquote>
<div><p>High performance LEDs are expensive.</p>
</div></blockquote>
<p>Mounting:</p>
<blockquote>
<div><p>High performance LEDs are designed for reflow soldering, which makes them hard
to solder by hand.  You must solder each LED to a small board before you can
use them or buy them pre-soldered (expensive).  Test your ability to solder
the LED make before buying quantities.</p>
</div></blockquote>
<p>This is a choice of LED makes (as of 2017).</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 32%" />
<col style="width: 5%" />
<col style="width: 5%" />
<col style="width: 4%" />
<col style="width: 5%" />
<col style="width: 5%" />
<col style="width: 7%" />
<col style="width: 9%" />
<col style="width: 16%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Series</p></th>
<th class="head"><p>Part.No.</p></th>
<th class="head"><p>lm</p></th>
<th class="head"><p>V</p></th>
<th class="head"><p>mA</p></th>
<th class="head"><p>Case</p></th>
<th class="head"><p>€</p></th>
<th class="head"><p>MinQty</p></th>
<th class="head"><p>Distr.</p></th>
<th class="head"><p>No</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Duris S 10</p></td>
<td><p>GW P7LP32.EM-RSRU-XX52-1</p></td>
<td><p>1400</p></td>
<td><p>38.0</p></td>
<td><p>300</p></td>
<td><p>7070</p></td>
<td><p>1.90</p></td>
<td><p>50</p></td>
<td><p>RS</p></td>
<td><p>8792889</p></td>
</tr>
<tr class="row-odd"><td><p>Duris S 10</p></td>
<td><p>GW P7LM32.EM-QURQ-XX52-1</p></td>
<td><p>1050</p></td>
<td><p>28.5</p></td>
<td><p>300</p></td>
<td><p>7070</p></td>
<td><p>1.72</p></td>
<td><p>50</p></td>
<td><p>Mouser</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>Duris S 8</p></td>
<td><p>GW P9LT31.EM-PSPU-XX52-1</p></td>
<td><p>610</p></td>
<td><p>31.0</p></td>
<td><p>150</p></td>
<td><p>5050</p></td>
<td><p>0.96</p></td>
<td><p>25</p></td>
<td><p>DigiKey</p></td>
<td><p>475-3200-1-ND</p></td>
</tr>
<tr class="row-odd"><td><p>Duris S 8</p></td>
<td><p>GW P9LT32.EM-PSPU-XX52-1</p></td>
<td><p>610</p></td>
<td><p>6.2</p></td>
<td><p>750</p></td>
<td><p>5050</p></td>
<td><p>0.96</p></td>
<td><p>25</p></td>
<td><p>DigiKey</p></td>
<td><p>475-3207-1-ND</p></td>
</tr>
<tr class="row-even"><td><p>Duris S 8</p></td>
<td><p>GW P9LR31.EM-PQPS-XX52-1</p></td>
<td><p>500</p></td>
<td><p>24.8</p></td>
<td><p>150</p></td>
<td><p>5050</p></td>
<td><p>0.76</p></td>
<td><p>25</p></td>
<td><p>DigiKey</p></td>
<td><p>475-3187-1-ND</p></td>
</tr>
<tr class="row-odd"><td><p>Duris S 8</p></td>
<td><p>GW P9LR32.EM-PQPS-XX52-1</p></td>
<td><p>500</p></td>
<td><p>6.2</p></td>
<td><p>600</p></td>
<td><p>5050</p></td>
<td><p>0.80</p></td>
<td><p>25</p></td>
<td><p>DigiKey</p></td>
<td><p>475-3193-1-ND</p></td>
</tr>
<tr class="row-even"><td><p>Duris S 8</p></td>
<td><p>GW P9LMS1.EM-NSNU-57S5-0</p></td>
<td><p>395</p></td>
<td><p>19.8</p></td>
<td><p>200</p></td>
<td><p>4SMD</p></td>
<td><p>0.91</p></td>
<td><p>50</p></td>
<td><p>RS</p></td>
<td><p>8108054</p></td>
</tr>
<tr class="row-odd"><td><p>Duris S 8</p></td>
<td><p>GW P9LMS2.EM-NQNS-57S5-0</p></td>
<td><p>350</p></td>
<td><p>19.8</p></td>
<td><p>200</p></td>
<td><p>4SMD</p></td>
<td><p>0.60</p></td>
<td><p>50</p></td>
<td><p>RS</p></td>
<td><p>8768969</p></td>
</tr>
</tbody>
</table>
<p>For our dome we selected the make: <em>Osram Duris S8 GW P9LMS1.EM-NSNU-57S5-0</em>
mainly because they were comparatively easy to solder by hand.  They come in 5 ×
5 mm (4SMD) packages, which we then soldered onto postage-stamp sized pieces we
cut out of a standard 2.54” striped PCB.</p>
<div class="figure align-center" id="id7">
<img alt="_images/DSC_2886.jpg" src="_images/DSC_2886.jpg" />
<p class="caption"><span class="caption-text">Two LEDs soldered to a standard striped PCB.</span><a class="headerlink" href="#id7" title="Permalink to this image">¶</a></p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The power-LED market has short product cycles.  You must buy enough
LEDs for replacement purposes.</p>
</div>
</div>
<div class="section" id="led-driver">
<h2>Led Driver<a class="headerlink" href="#led-driver" title="Permalink to this headline">¶</a></h2>
<p>The LED driver section we designed is very flexible.  Adjusting component values
you can drive almost any LED up to 1.5A / 80V.  The components you have to
adjust are the resistor of the LM317 constant current source and the base
resistors of the high-side BD140 PNP transistors.</p>
<p>With VLED up to 35V you can use a single power supply.  Over that value you must
use separate power supplies for VLED and VCPU.  Separate batteries for VLED and
VCPU are also advisable for battery-powered operation.</p>
<p>Now we calculate VLED.  The chosen LEDs have a forward voltage of:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 43%" />
<col style="width: 57%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>V_f</p></th>
<th class="head"><p>V</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>min</p></td>
<td><p>18.6</p></td>
</tr>
<tr class="row-odd"><td><p>typ</p></td>
<td><p>19.8</p></td>
</tr>
<tr class="row-even"><td><p>max</p></td>
<td><p>22.2</p></td>
</tr>
</tbody>
</table>
<p>&#64; a forward current of 200mA.</p>
<p>Cold LEDs have a higher forward voltage.  Ours are turned on for short periods
only, so they will be cold.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>LM 317 Drop-Out Voltage  (@ I_O = 200mA, T_j = 25°C)       =  1.65V
LM 317 V_adjust                                            =  1.25V
BD 140 C-E Saturation Voltage (@ I_C = -0.5A, I_B = -50mA) = -0.5V
</pre></div>
</div>
<p>This gives us a drop of at least 3.9V, ergo, the power supply should be at least
V_f max + 3.9V = 26.1V.</p>
</div>
<div class="section" id="constant-current-source">
<h2>Constant Current Source<a class="headerlink" href="#constant-current-source" title="Permalink to this headline">¶</a></h2>
<p>To get even luminosity we use an LM317 as constant current source.  The
adjustment resistor value is given by:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">R_adj</span> <span class="o">=</span> <span class="mf">1.25</span><span class="n">V</span> <span class="o">/</span> <span class="n">I_O</span>
<span class="n">R_adj</span> <span class="o">=</span> <span class="mf">1.25</span><span class="n">V</span> <span class="o">/</span> <span class="mi">200</span><span class="n">mA</span> <span class="o">=</span> <span class="mf">6.25</span><span class="n">ohm</span><span class="p">,</span> <span class="mf">0.25</span><span class="n">W</span>
</pre></div>
</div>
<p>The nearest standard value is 6.2ohm E24 (or 4.7ohm + 1.5ohm E12).</p>
<p>N.B. the constant current source also drives the bases of the high-side BD140
transistors, which sink 10mA with the chosen resistors (but would need 40mA of
base current to switch 1.5A LEDs).</p>
</div>
<div class="section" id="microcontroller">
<h2>Microcontroller<a class="headerlink" href="#microcontroller" title="Permalink to this headline">¶</a></h2>
<p>The project uses an ATmega328p microcontroller because it was prototyped on an
Arduino Nano.</p>
</div>
<div class="section" id="connectors">
<h2>Connectors<a class="headerlink" href="#connectors" title="Permalink to this headline">¶</a></h2>
<p>The device commands the camera through the remote control interface which is
found on most camera models.  Interface cables for Nikon, Canon and all other
major brands are also available at low cost from third party suppliers.  The
cables have a standard 3-way jack at one side and the proprietary camera
connector at the other.</p>
<p>The camera commands the flash through a <a class="reference internal" href="glossary.html#term-pc-sync"><span class="xref std std-term">PC Sync</span></a> connector. PC Sync
cables are standard photografic gear and are available at low cost from many
manufacturers.</p>
</div>
<div class="section" id="board-layout">
<h2>Board Layout<a class="headerlink" href="#board-layout" title="Permalink to this headline">¶</a></h2>
<p>The board is layed out as 1/2 Eurocard (100 × 80 mm).</p>
<p>The back of the board holds a few standard connectors and can be mounted flush
against the back panel.  You may choose different connectors if you don’t mount
them directly to the PCB board.</p>
<div class="figure align-center" id="id8">
<img alt="_images/DSC_2858.jpg" src="_images/DSC_2858.jpg" />
<p class="caption"><span class="caption-text">The PCB component side front view.</span><a class="headerlink" href="#id8" title="Permalink to this image">¶</a></p>
</div>
<div class="figure align-center" id="id9">
<img alt="_images/DSC_2857.jpg" src="_images/DSC_2857.jpg" />
<p class="caption"><span class="caption-text">The PCB component side back view.</span><a class="headerlink" href="#id9" title="Permalink to this image">¶</a></p>
</div>
<div class="figure align-center" id="id10">
<img alt="_images/DSC_2863.jpg" src="_images/DSC_2863.jpg" />
<p class="caption"><span class="caption-text">The PCB solder side.</span><a class="headerlink" href="#id10" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="case">
<h2>Case<a class="headerlink" href="#case" title="Permalink to this headline">¶</a></h2>
<p>It is highly recommended to put the board into a case.  The make of the case is
up to you.  (You can also try to place the board inside the dome if there is
room.)</p>
<p>We used a case made of 2 <em>Fischer Elektronik KO H 2</em> halves, which offers room
for a 100 × 100 mm PCB.  The CAD drawings of front and back panel where printed on
paper and then spotted through with a scriber, drilled and filed to shape.</p>
<div class="figure align-center" id="id11">
<img alt="_images/DSC_2827.jpg" src="_images/DSC_2827.jpg" />
<p class="caption"><span class="caption-text">The front panel.</span><a class="headerlink" href="#id11" title="Permalink to this image">¶</a></p>
</div>
<div class="figure align-center" id="id12">
<img alt="_images/DSC_2829.jpg" src="_images/DSC_2829.jpg" />
<p class="caption"><span class="caption-text">The back panel.</span><a class="headerlink" href="#id12" title="Permalink to this image">¶</a></p>
</div>
<div class="figure align-center" id="id13">
<img alt="_images/DSC_2842.jpg" src="_images/DSC_2842.jpg" />
<p class="caption"><span class="caption-text">The mounted PCB.</span><a class="headerlink" href="#id13" title="Permalink to this image">¶</a></p>
</div>
</div>
</div>
<div class="section" id="footnotes">
<h1>Footnotes<a class="headerlink" href="#footnotes" title="Permalink to this headline">¶</a></h1>
<dl class="footnote brackets">
<dt class="label" id="id3"><span class="brackets"><a class="fn-backref" href="#id1">1</a></span></dt>
<dd><p>Leszek Pawlowicz.  Affordable Reflectance Transformation Imaging Dome.
<a class="reference external" href="https://artid.readthedocs.io/en/latest/index.html">https://artid.readthedocs.io/en/latest/index.html</a></p>
</dd>
<dt class="label" id="id4"><span class="brackets"><a class="fn-backref" href="#id2">2</a></span></dt>
<dd><p>Ted Kinsman.  An Easy To Build Reflectance Transformation Imaging (RTI) System.
<a class="reference external" href="https://firstmonday.org/ojs/index.php/jbc/article/view/6625/5594">https://firstmonday.org/ojs/index.php/jbc/article/view/6625/5594</a></p>
</dd>
</dl>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="user.html" class="btn btn-neutral float-right" title="Dome User Manual" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="builder.html" class="btn btn-neutral float-left" title="Dome Builder Manual" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017-18 CCeH - Licensed under the GNU GPL v3 or later

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>